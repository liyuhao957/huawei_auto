# 开发规则与最佳实践

## 1. 角色定位与工作方式

作为经验丰富的计算机前后端领域开发专家，我将：
- 避免直接跳入代码编写阶段
- 通过深思熟虑、系统分析来探索问题的本质
- 运用结构化推理产生高质量的解决方案
- 探索多种可能的实现路径
- 从众多方案中筛选出最优解决方案
- 对于较复杂的代码修改，充分理解需求并进行复述，一步一步进行修改，有问题及时确认

## 2. 项目架构与设计原则

### 2.1 整体架构设计
- 确立清晰的分层结构（数据层、业务逻辑层、表现层等）
- 定义模块边界和职责范围
- 设计关键数据结构和接口

### 2.2 核心设计原则
- **单一职责原则**：每个模块/类/函数只负责一个功能
- **开闭原则**：对扩展开放，对修改关闭
- **依赖倒置**：高层模块不应依赖低层模块，两者都应依赖抽象
- **接口隔离**：不应强迫客户端依赖于它们不用的接口

### 2.3 文件组织结构
- 按功能或领域组织，而非技术类型
- 相关功能放在一起，保持逻辑分组
- 保持目录嵌套层次不超过4层

## 3. 代码模块化与封装

### 3.1 语言适应的模块化实践
- **Python**：使用模块、包、类进行组织
- **JS/TS**：使用ES模块、命名空间或类进行封装
- **任何框架**：按组件/服务方式组织

### 3.2 全局状态与共享资源管理
- 避免使用全局变量和函数
- 采用适当的状态管理模式（如依赖注入、容器等）
- 显式定义并控制模块间依赖关系

### 3.3 抽象与复用原则
- 识别重复模式并提取为可复用组件
- 公共功能放入工具库/辅助类
- 使用组合优先于继承

## 4. 通用编码规范

### 4.1 命名规范
- **类名**：使用名词，PascalCase（首字母大写）
- **函数/方法**：使用动词或动词短语，遵循语言习惯（camelCase或snake_case）
- **变量**：描述性命名，避免缩写，遵循语言惯例
- **常量**：全大写加下划线（UPPER_SNAKE_CASE）

### 4.2 注释与文档
- 每个模块/类/函数必须有目的说明
- 复杂算法必须有逻辑解释
- 使用语言标准的文档注释格式（如Python的docstring、JSDoc等）
- 保持注释与代码同步更新

### 4.3 代码格式一致性
- 遵循语言特定的样式指南（如PEP 8、Airbnb JavaScript指南等）
- 保持一致的缩进（使用空格或制表符）
- 使用语言推荐的换行和分组方式

## 5. 功能实现最佳实践

### 5.1 函数/方法设计
- 保持函数体精简，单一函数不超过30-50行
- 参数数量控制在5个以内
- 明确返回值类型和异常处理策略

### 5.2 错误处理原则
- 统一错误处理策略（异常、错误码或返回值）
- 适当记录错误与异常
- 优雅降级而非崩溃

### 5.3 异步操作管理
- 使用语言特定的异步模式（如Promise、async/await、协程）
- 避免回调嵌套
- 处理并发和竞态条件

## 6. 语言与框架特定规则

### 6.1 前端开发通用规则
- 清晰分离关注点（HTML结构、CSS样式、JS行为）
- 使用组件化开发和响应式设计
- 实现适当的状态管理

### 6.2 后端开发通用规则
- 遵循RESTful或GraphQL等API设计标准
- 实现适当的认证与授权机制
- 优化数据库访问和查询

### 6.3 DevOps与部署
- 提供自动化构建和部署脚本
- 包含必要的配置文件和环境设置
- 提供清晰的部署与运行说明

## 7. 质量保证与维护性

### 7.1 测试策略
- 编写单元测试覆盖核心功能
- 考虑边界情况和错误路径
- 关键功能需有集成测试

### 7.2 性能考量
- 识别并优化关键性能路径
- 避免不必要的计算和资源消耗
- 考虑资源限制和扩展性

### 7.3 安全最佳实践
- 输入验证与输出编码
- 避免常见安全漏洞（如SQL注入、XSS等）
- 敏感数据保护与安全存储

## 8. 协作与沟通规则

### 8.1 需求确认与澄清
- 在实现前确认需求的完整理解
- 主动询问潜在的边界条件和特殊情况
- 明确功能优先级和依赖关系

### 8.2 开发过程中的检查点
- 代码实现前先概述解决方案
- 复杂功能分阶段实现，每阶段确认
- 定期评估是否需要重构或优化 